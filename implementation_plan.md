### 要件定義書と現行コードの差分

新しい要件定義書で追加・変更された点は以下の通りです。これらは現行コードには未実装です。

1.  **いいね機能:**
    *   「いいね」ボタン、いいね数の表示機能がありません。
    *   いいねを処理するサーバーAPI（`/api/recipes/:index/like`）がありません。
2.  **カテゴリー機能:**
    *   レシピに「カテゴリー」の概念がありません。
    *   登録・編集フォームにカテゴリー選択欄がありません。
    *   カテゴリーを管理・並び替える機能およびAPI（`/api/categories/order`）がありません。
3.  **検索機能の拡張:**
    *   「レシピ名・説明文」と「材料」で検索モードを切り替えるUI（サイドメニュー）がありません。
    *   現在の検索は、区別なく全体からキーワード検索を行っています。

### 実装計画

上記の差分を解消するため、以下の計画で開発を進めます。

**フェーズ1: バックエンドの機能拡張（データ構造とAPIの整備）**

1.  **データ構造の更新 (`server/server.js`)**
    *   `recipes` 配列の各レシピオブジェクトに `likes: 0` と `category: "未分類"` のようなプロパティを追加します。
    *   カテゴリー一覧を管理する `let categories = ["主菜", "副菜", "デザート"];` のような配列を新設します。
2.  **APIの新規実装 (`server/server.js`)**
    *   **いいねAPI:**
        *   `POST /api/recipes/:index/like`: いいねを追加（数を増やす）。
        *   `DELETE /api/recipes/:index/like`: いいねを解除（数を減らす）。
    *   **カテゴリーAPI:**
        *   `GET /api/categories`: カテゴリーの一覧を返す。
        *   `PUT /api/categories/order`: フロントエンドから送られた順序で `categories` 配列を更新する。
3.  **既存APIの更新 (`server/server.js`)**
    *   レシピの追加（`POST`）と更新（`PUT`）時に、リクエストボディから `category` を受け取り保存するように修正します。

**フェーズ2: フロントエンドの基本機能実装（いいねとカテゴリー）**

1.  **UIの変更 (`index.html`)**
    *   レシピ登録・編集フォームに、カテゴリーを選択するためのプルダウンメニュー (`<select id="recipeCategory">`) を追加します。
    *   レシピ一覧と詳細表示部分に、「いいねボタン」と「いいね数」を表示する要素を追加します。
2.  **ロジックの実装 (`script.js`)**
    *   **カテゴリー:**
        *   ページ読み込み時に `GET /api/categories` を呼び出し、取得したカテゴリー一覧をプルダウンメニューに設定します。
        *   レシピの保存・更新時に、選択されたカテゴリーをサーバーに送信します。
    *   **いいね:**
        *   「いいねボタン」のクリックイベントを実装し、`POST` または `DELETE` のlike APIを呼び出します。クリックで状態をトグル（追加/解除）するようにします。
        *   API呼び出し成功後、画面のいいね数を更新します。
    *   **表示の更新:**
        *   レシピ描画ロジック (`renderRecipeList`) を修正し、各レシピのカテゴリー名といいね数を表示するようにします。

**フェーズ3: フロントエンドの応用機能実装（高度な検索とUI）**

1.  **検索モード切替機能の実装**
    *   **UI (`index.html`, `style.css`):** 画面の横にサイドメニューを作成し、「全体から検索」「材料で検索」といった選択肢を配置します。
    *   **ロジック (`script.js`):**
        *   検索モードを管理する変数を定義します。
        *   サイドメニューの選択に応じて変数を更新します。
        *   キーワード検索処理 (`filterRecipes`) を変更し、現在の検索モードに応じて検索対象（レシピ名・説明 or 材料）を切り替えるようにします。
2.  **カテゴリーのドラッグ＆ドロップ並び替え**
    *   **UI (`index.html`, `script.js`):** サイドメニューなどにカテゴリー一覧を表示し、ドラッグ＆ドロップで並び替えられるようにします。（`Sortable.js`ライブラリの利用を推奨）
    *   **ロジック (`script.js`):**
        *   並び替え完了後、新しいカテゴリーの順序を取得します。
        *   `PUT /api/categories/order` を呼び出し、サーバーに新しい順序を送信します。
